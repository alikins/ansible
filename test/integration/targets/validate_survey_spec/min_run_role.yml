---
- name: "Running role role_name"
  hosts: localhost
  gather_facts: false
  tasks:
    #    - name: debug vars
    #      debug:
    #        var: vars


    - debug:
        var: tidy_survey_vars

    - name: "run the role from tidurvey_vars"
      include_role: "{{ tidy_survey_vars|default(omit) }}"
      # name: "{{ role_name }}"
      # The value here ends up as a AnsibleUnicode inside  ansible.playbook.base.FieldAttributeBase._load_vars (~line 460 or so)
      # args: "{{ tidy_survey_vars|default(omit) }}"
      #      register: tidy_include_role_results
      #      when: false

      #    - name: "run the role from tidurvey_vars"
      #      include_role:
      #        name: "{{ role_name }}"
      #      # The value here ends up as a AnsibleUnicode inside  ansible.playbook.base.FieldAttributeBase._load_vars (~line 460 or so)
      #      vars: "{{ tidy_survey_vars }}"
      #      register: tidy_include_role_results

      #    - name: creating import_role args
      #      set_fact:
      #        import_role_args: "{{ role_survey_answers|combine({'name': role_name }) }}"

      #    - debug:
      #        var: import_role_args
