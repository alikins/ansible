---
- name: "Running role role_name"
  hosts: localhost
  gather_facts: false
  roles:
    - role: 'bcoca.tidy'
      vars:
        tidy_expected:
          - "keep.txt"
          - "foo.txt"
        tidy_path: "/tmp/tidy-stuff"
      allow_duplicates: true
        # - "{{ tidy_survey_vars.vars|default(omit) }}"
  vars:
    vtidy_survey_vars:
      role: "bcoca.tidy"
      name: "bcoca.tidy"
      tidy_path: "/tmp/tidy-stuff"
      tidy_expected:
        - "keep.txt"
        - "foo.text"
  tasks:
    - include_role:
        name: "{{ tidy_survey_vars.name|default(omit) }}"
        allow_duplicates: true
    - import_role:
        name: "{{ tidy_survey_vars.name|default(omit) }}"
        allow_duplicates: true
